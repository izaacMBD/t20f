<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tormenta20 — Ficha (Mobile, Preenchível)</title>
  <style>
    :root{ --bg:#000; --fg:#fff; --muted:#aaa; --card:#111; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--fg);padding:12px}
    .app{max-width:760px;margin:0 auto}
    header{display:flex;gap:8px;align-items:center;justify-content:space-between}
    header h1{font-size:18px;margin:0}
    .controls{display:flex;gap:6px}
    button,.btn{background:transparent;border:1px solid var(--muted);padding:6px 8px;border-radius:8px;font-size:13px;color:var(--fg)}
    .sheet{display:grid;grid-template-columns:1fr;gap:10px;margin-top:10px}
    .card{background:var(--card);border-radius:10px;padding:10px;border:1px solid #333}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
    input,select,textarea{width:100%;padding:6px;border-radius:6px;border:1px solid #444;font-size:14px;background:#000;color:#fff}
    textarea{min-height:64px}
    .row{display:flex;gap:8px}
    .col{flex:1}
    .small{flex:0 0 86px}
    .section-title{font-weight:600;margin-bottom:6px}
    footer{margin:12px 0 40px;font-size:12px;color:var(--muted)}
    .list{display:flex;flex-direction:column;gap:6px}
    .list .card{padding:8px;border:1px dashed #444}
    .skills-container{max-height:200px;overflow-y:auto;padding:6px;border:1px solid #333;border-radius:8px;display:flex;flex-direction:column;gap:6px}
    .skill-card{background:#111;border:1px solid #333;border-radius:6px;padding:6px;display:flex;justify-content:space-between;align-items:center}
    .skill-card input{width:64px}
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Tormenta20 — Ficha (mobile)</h1>
      <div class="controls">
        <button id="btnSave" class="btn">Salvar JSON</button>
        <button id="btnLoad" class="btn">Carregar JSON</button>
        <button id="btnPrint" class="btn">Imprimir / PDF</button>
      </div>
    </header>

    <form id="sheet" class="sheet" autocomplete="off">
      <!-- IDENTIFICAÇÃO -->
      <section class="card">
        <div class="row">
          <div class="col">
            <label class="section-title">Nome do Personagem</label>
            <input type="text" id="nome" name="nome" placeholder="Nome do personagem">
          </div>
          <div class="small">
            <label class="section-title">Lv</label>
            <input type="number" id="nivel" name="nivel" min="1" value="1">
          </div>
        </div>
        <div class="row" style="margin-top:8px">
          <div class="col"><label>Jogador</label><input type="text" id="jogador" name="jogador"></div>
          <div class="col"><label>Raça / Origem</label><input type="text" id="raca" name="raca"></div>
          <div class="col"><label>Classe / Divindade</label><input type="text" id="classe" name="classe"></div>
        </div>
      </section>

      <!-- ATRIBUTOS -->
      <section class="card">
        <div class="section-title">Atributos</div>
        <div class="grid-3">
          <div><label>Força</label><input type="number" name="forca" value="10"><label>Mod</label><input type="number" name="modFor" value="0"></div>
          <div><label>Destreza</label><input type="number" name="destreza" value="10"><label>Mod</label><input type="number" name="modDes" value="0"></div>
          <div><label>Constituição</label><input type="number" name="const" value="10"><label>Mod</label><input type="number" name="modCon" value="0"></div>
        </div>
        <div class="grid-3" style="margin-top:8px">
          <div><label>Inteligência</label><input type="number" name="int" value="10"><label>Mod</label><input type="number" name="modInt" value="0"></div>
          <div><label>Sabedoria</label><input type="number" name="sab" value="10"><label>Mod</label><input type="number" name="modSab" value="0"></div>
          <div><label>Carisma</label><input type="number" name="car" value="10"><label>Mod</label><input type="number" name="modCar" value="0"></div>
        </div>
        <div class="row" style="margin-top:8px">
          <div class="col"><label>PV Total</label><input type="number" name="hpTotal"></div>
          <div class="col"><label>PV Atual</label><input type="number" name="hpAtual"></div>
          <div class="col"><label>PM Total</label><input type="number" name="mpTotal"></div>
        </div>
      </section>

      <!-- DEFESA -->
      <section class="card">
        <div class="row">
          <div class="col"><label>Classe de Armadura (CA)</label><input type="number" id="ca" name="ca" value="10"></div>
          <div class="col"><label>Bônus Armadura</label><input type="number" id="bonusArm" name="bonusArm" value="0"></div>
          <div class="col"><label>Bônus Escudo</label><input type="number" id="bonusEsc" name="bonusEsc" value="0"></div>
        </div>
        <div class="row" style="margin-top:8px">
          <div class="col"><label>Penalidade</label><input type="number" id="penArm" name="penArm" value="0"></div>
          <div class="col"><label>Proficiências</label><input type="text" id="profs" name="profs"></div>
          <div class="col"><label>Tamanho</label>
            <select id="tamanho" name="tamanho">
              <option>Minúsculo</option><option>Pequeno</option><option>Médio</option><option>Grande</option><option>Enorme</option>
            </select>
          </div>
        </div>
      </section>

      <!-- PERÍCIAS -->
      <section class="card">
        <div class="section-title">Perícias</div>
        <div class="skills-container">
          <div class="skill-card"><span>Acrobacia</span><input type="number" name="acro" value="0"></div>
          <div class="skill-card"><span>Atletismo</span><input type="number" name="atle" value="0"></div>
          <div class="skill-card"><span>Atuação</span><input type="number" name="atua" value="0"></div>
          <div class="skill-card"><span>Cavalgar</span><input type="number" name="caval" value="0"></div>
          <div class="skill-card"><span>Conhecimento</span><input type="number" name="conhec" value="0"></div>
          <div class="skill-card"><span>Cura</span><input type="number" name="cura" value="0"></div>
          <div class="skill-card"><span>Diplomacia</span><input type="number" name="dipl" value="0"></div>
          <div class="skill-card"><span>Enganação</span><input type="number" name="enga" value="0"></div>
          <div class="skill-card"><span>Fortitude</span><input type="number" name="fort" value="0"></div>
          <div class="skill-card"><span>Furtividade</span><input type="number" name="furt" value="0"></div>
          <div class="skill-card"><span>Iniciativa</span><input type="number" name="inic" value="0"></div>
          <div class="skill-card"><span>Intuição</span><input type="number" name="intu" value="0"></div>
          <div class="skill-card"><span>Investigação</span><input type="number" name="inve" value="0"></div>
          <div class="skill-card"><span>Jogatina</span><input type="number" name="joga" value="0"></div>
          <div class="skill-card"><span>Ladinagem</span><input type="number" name="ladi" value="0"></div>
          <div class="skill-card"><span>Luta</span><input type="number" name="luta" value="0"></div>
          <div class="skill-card"><span>Misticismo</span><input type="number" name="mist" value="0"></div>
          <div class="skill-card"><span>Nobreza</span><input type="number" name="nobr" value="0"></div>
          <div class="skill-card"><span>Ofício 1 <input type="text" name="ofi1_nome" placeholder="Nome"></span><input type="number" name="ofi1" value="0"></div>
          <div class="skill-card"><span>Ofício 2 <input type="text" name="ofi2_nome" placeholder="Nome"></span><input type="number" name="ofi2" value="0"></div>
          <div class="skill-card"><span>Percepção</span><input type="number" name="perc" value="0"></div>
          <div class="skill-card"><span>Pontaria</span><input type="number" name="pont" value="0"></div>
          <div class="skill-card"><span>Reflexos</span><input type="number" name="refl" value="0"></div>
          <div class="skill-card"><span>Religião</span><input type="number" name="reli" value="0"></div>
          <div class="skill-card"><span>Sobrevivência</span><input type="number" name="sobr" value="0"></div>
          <div class="skill-card"><span>Vontade</span><input type="number" name="vont" value="0"></div>
        </div>
      </section>

      <!-- ITENS -->
      <section class="card">
        <div class="section-title">Itens</div>
        <div id="itens" class="list"></div>
        <button type="button" id="addItem" class="btn">+ Adicionar Item</button>
      </section>

      <!-- ARMAS -->
      <section class="card">
        <div class="section-title">Armas</div>
        <div id="armas" class="list"></div>
        <button type="button" id="addArma" class="btn">+ Adicionar Arma</button>
      </section>

      <!-- MAGIAS -->
      <section class="card">
        <div class="section-title">Magias</div>
        <div id="magiasList" class="list"></div>
        <button type="button" id="addMagia" class="btn">+ Adicionar Magia</button>
      </section>
    </form>

    <footer>Ficha criada para uso pessoal.</footer>
  </div>

  <script>
    function createCard(type, idx){
      const div=document.createElement('div');
      div.className='card';
      if(type==='item') div.innerHTML=`<input type="text" name="item${idx}" placeholder="Item"><input type="number" name="peso${idx}" placeholder="Peso">`;
      if(type==='arma') div.innerHTML=`<input type="text" name="armaNome${idx}" placeholder="Nome da Arma"><input type="text" name="armaDano${idx}" placeholder="Dano"><input type="number" name="armaBonus${idx}" placeholder="Bônus">`;
      if(type==='magia') div.innerHTML=`<input type="text" name="magiaNome${idx}" placeholder="Nome da Magia"><textarea name="magiaDesc${idx}" placeholder="Efeitos"></textarea>`;
      return div;
    }

    let itemCount=0, armaCount=0, magiaCount=0;
    document.getElementById('addItem').onclick=()=>{itemCount++;document.getElementById('itens').appendChild(createCard('item',itemCount));};
    document.getElementById('addArma').onclick=()=>{armaCount++;document.getElementById('armas').appendChild(createCard('arma',armaCount));};
    document.getElementById('addMagia').onclick=()=>{magiaCount++;document.getElementById('magiasList').appendChild(createCard('magia',magiaCount));};
  </script>
</body>
</html>
